{"version":3,"file":"HttpApiBuilder.js","names":["Cause","_interopRequireWildcard","require","Chunk","Context","Effect","Encoding","Fiber","_Function","_GlobalValue","Layer","ManagedRuntime","Option","ParseResult","_Pipeable","Redacted","Schema","_Unify","HttpApi","_HttpApiError","HttpApiMiddleware","HttpApiSchema","HttpApp","HttpMethod","HttpMiddleware","HttpRouter","HttpServer","HttpServerRequest","HttpServerResponse","Multipart","OpenApi","UrlParams","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","Router","Tag","exports","api","effect","Api","map","context","serve","middleware","httpApp","pipe","app","unwrapEffect","provide","Live","Middleware","layer","gen","makeMiddlewareMap","middlewares","router","applyMiddleware","apiMiddlewareService","apiMiddleware","retrieve","errorSchema","makeErrorSchema","encodeError","encodeUnknown","catchAllCause","cause","matchEffect","squash","onFailure","failCause","onSuccess","succeed","buildMiddleware","fnUntraced","middlewareMap","toWebHandler","options","runtime","make","mergeAll","memoMap","handlerCached","handlerPromise","rt","runtimeEffect","handler","toWebHandlerRuntime","runPromise","request","undefined","then","dispose","HandlersTypeId","Symbol","for","HandlersProto","_Endpoints","identity","pipeArguments","arguments","handle","name","endpoint","group","endpoints","makeHandlers","handlers","append","withFullRequest","uninterruptible","handleRaw","self","create","groupName","build","use","groups","result","empty","isEffect","groupMiddleware","routes","item","push","handlerToRoute","mapInputContext","input","merge","concat","fromIterable","_api","_groupName","_name","requestPayload","urlParams","multipartLimits","hasBody","method","contentType","headers","toLowerCase","trim","includes","orDie","json","match","onNone","multipart","onSome","limits","withLimits","urlParamsBody","toRecord","startsWith","text","arrayBuffer","buffer","Uint8Array","initial","Map","forEach","tag","key","unsafeGet","isSingleStringType","ast","_tag","ps","propertySignatures","find","type","indexSignatures","some","is","parameter","types","from","normalizeUrlParams","params","out","value","Array","isArray","endpoint_","isFullRequest","isMultipartStream","payloadSchema","getMultipartStream","getOrElse","constFalse","flatMapNullable","getMultipart","decodePath","pathSchema","decodeUnknown","decodePayload","none","decodeHeaders","headersSchema","encodeSuccess","encode","makeSuccessSchema","successSchema","makeRoute","path","fiber","getOrThrow","getCurrentFiber","currentContext","httpRequest","routeContext","RouteContext","ParsedSearchParams","payload","flatMap","multipartStream","withLimitsStream","urlParamsSchema","schema","response","isServerResponse","catchIf","isParseError","HttpApiDecodeError","refailParseError","entry","values","SecurityTypeId","makeSecurityMiddleware","optional","previous","provides","provideService","_","provideServiceEffect","zipRight","securityMiddlewareCache","globalValue","security","entries","decode","securityDecode","catchAll","void","responseSchema","declare","schemas","Set","deunionize","Union","toResponseSuccess","toResponseError","decodeForbidden","__","fail","Forbidden","toResponseSchema","getStatus","cache","schemaToResponse","data","isEmpty","isVoid","to","status","encoding","getEncoding","kind","mapError","error","Type","uint8Array","transform","transformOrFail","getStatusSuccessAST","getStatusErrorAST","sync","of","add","prev","middlewareAdd","service","middlewareAddNoContext","args","apiFirst","isHttpApi","withContext","scopedDiscard","middlewareCors","cors","middlewareOpenApi","spec","fromApi","additionalPropertiesStrategy","bearerLen","length","basicLen","authorization","slice","in","Struct","String","unify","schemaSearchParams","schemaCookies","schemaHeaders","username","password","decodeBase64String","header","parts","split","securitySetCookie","stringValue","appendPreResponseHandler","_req","setCookie","secure","httpOnly"],"sources":["../../src/HttpApiBuilder.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}