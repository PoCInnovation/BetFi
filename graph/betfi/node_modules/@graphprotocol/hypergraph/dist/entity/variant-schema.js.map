{"version":3,"file":"variant-schema.js","names":["constUndefined","dual","Option","ParseResult","pipeArguments","Predicate","Schema","Struct_","TypeId","Symbol","for","cacheSymbol","isStruct","u","hasProperty","FieldTypeId","isField","extract","args","self","variant","options","cache","cacheKey","isDefault","undefined","fields","key","Object","keys","value","isSchema","schemas","Struct","make","Class","identifier","annotations","idField","Field","select","String","deletedField","Boolean","versionField","relationField","optional","id","extractFields","__deleted","__version","_relation","variantStruct","schema","defaultVariant","Base","variants","defineProperty","title","FieldOnly","obj","FieldExcept","includes","UnionVariants","members","Union","fieldEvolve","f","field","fromEntries","map","evolve","fieldFromKey","mapping","entries","renameFieldValue","extractVariants","Override","Overrideable","from","to","transformOrFail","Undefined","pipe","brand","decode","_","succeed","encode","dt","generate","none","some","propertySignature","withConstructorDefault","StructProto","arguments","create","FieldProto","VariantUnion","filter","member","isPropertySignature","fromKey"],"sources":["../../src/entity/variant-schema.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}