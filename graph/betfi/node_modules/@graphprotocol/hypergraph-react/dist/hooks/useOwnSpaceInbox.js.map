{"version":3,"file":"useOwnSpaceInbox.js","names":["store","useSelector","useSelectorStore","useCallback","useEffect","useState","useHypergraphApp","useHypergraphAuth","useOwnSpaceInbox","spaceId","inboxId","autoCreate","isPublic","authPolicy","getLatestSpaceInboxMessages","sendSpaceInboxMessage","ensureSpaceInbox","identity","space","state","context","spaces","find","s","id","ownInboxId","setOwnInboxId","ownInbox","inboxes","i","loading","setLoading","error","setError","realInboxId","ensureInbox","err","Error","fetchInbox","then","refresh","sendMessage","message","authorAccountAddress","signaturePrivateKey","address","encryptionPublicKey","messages"],"sources":["../../src/hooks/useOwnSpaceInbox.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}